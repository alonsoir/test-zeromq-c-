git add -A
git commit -m "feat(day-58): Fix crypto-transport LZ4 bug, add HMAC integration to firewall

Priority 1: crypto-transport LZ4 Bug - FIXED ‚úÖ
- Remove redundant 4-byte header from compress()
- API already requires caller to pass original_size
- compress(): now returns pure LZ4 data (no header)
- decompress(): simplified, no header parsing needed
- All tests passing: test_compression (10/10), test_integration (7/7)
- Lesson: Redundancy != Security, simple APIs are better

Priority 2: Component Config Verification - FIXED ‚úÖ
- Updated Makefile verify-encryption target
- Fixed jq paths: .encryption_enabled -> .transport.encryption.enabled
- All components verified: sniffer, ml-detector, firewall (all true/true)

Priority 3: HMAC Integration - PARTIAL ‚úÖ
- etcd-client: Added get_hmac_key(), compute_hmac_sha256(), bytes_to_hex()
- FirewallLogger: Added append_csv_log(), generate_csv_line(), compute_hmac_for_csv()
- CMakeLists.txt: Added OpenSSL::Crypto linkage to executables
- Headers updated, implementations complete, compilation successful
- Pending: Pass etcd_client to ZMQSubscriber, call CSV+HMAC logging

Architectural Decisions:
- CSV over JSONL: Eliminates nlohmann::json memory bug, simpler format
- Batch processing: Timeseries-style, atomic operations only
- Configurable paths: High availability support (multiple producers)

Files Modified:
- crypto-transport/src/compression.cpp (LZ4 fix)
- Makefile (verify-encryption fix)
- firewall-acl-agent/include/firewall/etcd_client.hpp (HMAC methods)
- firewall-acl-agent/src/core/etcd_client.cpp (HMAC implementation)
- firewall-acl-agent/include/firewall/logger.hpp (CSV+HMAC support)
- firewall-acl-agent/src/core/logger.cpp (CSV+HMAC implementation)
- firewall-acl-agent/CMakeLists.txt (OpenSSL linkage)

Next: Day 59 - Complete HMAC integration, migrate ml-detector to CSV

Via Appia Quality: Piano piano üèõÔ∏è
Co-authored-by: Claude (Anthropic)"